# 미분

## 함수와 그래프를 명확하게 알아야한다.

### 함수

- 수학적인 의미 함수를 나타낼 것이다.
- input -> 계산 -> output
- y = 3x + 6 (Function)
- y는 x에 대한 함수라고 표현
- 한 입력에 대해 하나의 출력
- $ x^2 + y^2 = 8 $ 때 y는 -2, 2 둘다 되기 때문에 y는 x의 함수가 아니다
- 결국 함수는 $ f(x) = f(x) = x + a $ 즉 다변수 함수로도 사용을 할 수 있다.
- $ f(x, y) = x + y $ 변수를 두개같는 함수
- 꼭 1차함수일 필요가 없다 즉 고차 함수로도 사용이 가능하다.
- $ f(x,y) = x + 2y $ : 다변수 함수

### 그래프

- $ y = 3x + 6 $ -> 함수안에 들어갈 점을 모두 찍는 것
- 2차 함수 $ y = x^2 -2x + 1 $ -> 곡선 그래프
- 1차 함수 $ y = 3x + 6 $ -> 직선 그래프
- 그래프를 그리는 이유

  - 함수의 최소점을 알 수 있다.
  - x의 변화에 따라 y값이 변화 여부를 알 수 있다.
  - 머신러닝을 할 때 그래프로 파악할 수 있다.

- $ y = 2x + 1 = ( y = f(x) ) $
  - x가 커지만 y도 커지는 함수
  - 기울기 : x가 변화할 때, y의 변화가 얼마나 빠르게 일어나는지 알려준다.
    - 기울기가 크면 y의 변화가 빠르다. 기울기가 작으면 y의 변화가 느리다.
  - 직선 그래프는 어떤 지점이던 똑같은 기울기다.
- $ y = x^2 -2x + 1 $
  - 곡선의 기울기는 위치마다 다르다.
  - 특정 지점에서 기울기를 알려면 맞다은 직선을 그린다.
    - 해당 지점에서 기울기를 알려면 순간 변화율을 알아야한다
    - 순간변화율을 이해하려면 평균변화율을 이해 해야한다.
    - 평균변화율을 아는 공식 $$ \frac{f(b) - f(a)}{b - a} $$
    - 다르게 표현도 가능하다. $$ \frac{f(a + h) - f(a)}{h} $$
    - $ f'(a + h), f(a) $ 여기서 f는 $ y = x^2 -2x + 1 $ 이 공식을 나타내는 것이다.
  - 순간 변화율 공식
    - limit를 작성해서 순간 변화율을 계산해보자 -> 극한까지 풀어서 사용하는 것
    - $$ f'(a) = \lim\_{h \to 0} \frac{f(a + h) - f(a)}{h} $$
    - 저걸 풀어서 푸는 방법
      - $$ f'(x) = \lim\_{h \to 0} \frac{ [(x+h)^2 - 2(1+x) + 1] - [x^2 - 2(x) + 1] }{h} $$

### 미분이란

- 함수의 순간변화율을 구해주는 함수이다.
- $$ f'(x) : ' 프라임으로 표현 $$
- 간단하게 계산하는 방법은 $ x^n을 nx^{n-1} $

⸻

📘 미분 (Derivative)

미분은 함수의 순간 변화율을 구하는 방법입니다. 즉, 어떤 함수가 특정 지점에서 얼마나 빠르게 변하는지를 나타내죠.

⸻

✅ 미분의 기본 기호

함수 f(x) 의 미분은 다음과 같이 표현됩니다:

$$
\frac{d}{dx}f(x)
$$

    •	\frac{d}{dx}: 변수 x에 대해 미분하겠다는 의미
    •	f(x): 미분하고자 하는 함수

⸻

✅ 예제 1: f(x) = x^2 - 2x + 1

이 함수는 세 개의 항으로 구성되어 있으므로, 각 항을 하나씩 미분합니다. 1. x^2 → 차수 2를 앞으로 곱하고, 차수를 1 줄입니다:
\frac{d}{dx}(x^2) = 2x 2. -2x → 차수 1을 곱하고, 차수를 0으로 줄입니다:
\frac{d}{dx}(-2x) = -2 3. 상수항 1 → 미분하면 0이 됩니다.

⸻

🔹 전체 결과:

$$
\frac{d}{dx}f(x) = 2x - 2
$$

⸻

✅ 예제 2: f(x) = -x^4 + 2x^3 + 2x^2 + 1

각 항을 순서대로 미분합니다. 1. -x^4:
\frac{d}{dx}(-x^4) = -4x^3 2. 2x^3:
\frac{d}{dx}(2x^3) = 6x^2 3. 2x^2:
\frac{d}{dx}(2x^2) = 4x 4. 1: 상수항 → 미분 시 0

⸻

🔹 전체 결과:

$$
\frac{d}{dx}f(x) = -4x^3 + 6x^2 + 4x
$$

⸻

🎯 해석
• 미분된 식은 접선의 기울기 함수입니다.
• 특정한 x 값을 대입하면, 그 지점에서의 순간 변화율을 바로 알 수 있습니다.

예: 위 함수에서 x = 1 일 때의 순간 변화율은

$$ f{\prime}(1) = -4(1)^3 + 6(1)^2 + 4(1) = -4 + 6 + 4 = 6 $$

⸻

- 기울기
  - 그래프가 해당 지점에서 얼마나 기울어져 있는지 알 수 있다.
  - 어떤 방향으로 가야 가장 가파르게 올라갈 수 있는지 도 알 수 있다.

# 📘 기울기의 부호와 방향 해석

✅ 미분 결과

주어진 함수는 다음과 같습니다:

$$
f(x) = x^2 - 2x + 1
\quad \Rightarrow \quad
f'(x) = 2x - 2
$$

⸻

✅ 예제 1: x = 0일 때의 기울기

$f'(0) = 2 \cdot 0 - 2 = -2$
해석:

- 기울기 = -2 → 음수 → x 증가 시 y 감소
- 내리막 그래프라는 의미
- 기울기의 절댓값이 크므로 비교적 가파른 하강
- 최대한 가파르게 올라가려면 → 왼쪽으로 이동
  (기울기가 양수 방향으로 증가하도록)

⸻

✅ 예제 2: x = 2일 때의 기울기

$f'(2) = 2 \cdot 2 - 2 = 2 $

# 해석:

- 기울기 = 2 → 양수 → x 증가 시 y도 증가
- 오르막 그래프
- 역시 절댓값이 크므로 가파른 상승
- 최대한 가파르게 올라가려면 → 오른쪽으로 이동
  (기울기가 더 증가하는 쪽으로)

⸻

✅ 기울기의 부호가 주는 정보

기울기 $$ (f{\prime}(x) $$ ) 그래프 경향 y 변화 방향 가장 가파른 오르막 방향 머신러닝에서는

- < 0 (음수) 내리막 감소 왼쪽 우측으로 이동 시 손실 증가 → 왼쪽으로 이동
- `>` 0 (양수) 오르막 증가 오른쪽 좌측으로 이동 시 손실 증가 → 오른쪽으로 이동
- `>=` 0 평평 (꼭짓점 등) 변화 없음 없음 (정체점) 학습 중단 또는 최소점

⸻

✅ 머신러닝과의 연결
• 미분값(기울기) 는 단순한 기울기 이상으로:
• 현재 위치의 변화량
• 어느 방향으로 이동해야 손실이 줄어드는지
• 얼마나 빠르게 이동해야 하는지
를 함께 알려줌.
• 예:
경사하강법(Gradient Descent)에서:

$$x := x - \alpha \cdot f'(x)$$

- $f{\prime}(x) $가 양수면 → 왼쪽 이동
- $f{\prime}(x) $가 음수면 → 오른쪽 이동

⸻

✅ 최종 요약
• 기울기는 단순히 경사의 급함 정도만이 아니라,
• 증가/감소 방향
• 얼마나 급하게 올라가는지/내려가는지
까지 알려주는 중요한 지표다.
• 이 정보를 해석할 줄 아는 게, 머신러닝의 핵심인 최적화 과정에서 매우 중요하다.

⸻

- 극소점, 극대점
  - 순간변화율이 0일 때 x가 변해도 y는 그대로 0라는 말이다.
  - 극소점: 기울기가 0일 때
    - 기울기가 두개 일 때 음수 극소점, 양수 극소점을 나타낸다.
    - 제일 작은것은 최소점
  - 극대점
    - 기울기에 y값이 제일 큰 경우
    - 기울기가 두개 일 때 음수 극대점, 양수 극대점을 나타낸다.
    - 제일 큰것은 최대점
  - 안장점
    - 기울기가 지속적으로 양수를 가지는 경우 평평해지는 순간이 생김

| 구분   | 정의                                                    | 수학적 조건                       | 기하적 의미            | 머신러닝/최적화 의미             |
| ------ | ------------------------------------------------------- | --------------------------------- | ---------------------- | -------------------------------- |
| 극소점 | 특정 구간에서 가장 **작은 함수값**을 갖는 점            | \( f'(x) = 0 \), \( f''(x) > 0 \) | 아래로 볼록한 꼭짓점   | 지역적으로 손실 최소             |
| 극대점 | 특정 구간에서 가장 **큰 함수값**을 갖는 점              | \( f'(x) = 0 \), \( f''(x) < 0 \) | 위로 볼록한 꼭짓점     | 지역적으로 손실 최대 (회피 대상) |
| 최소점 | **전체 구간에서** 가장 작은 함수값을 갖는 점            | 극소점 중 가장 낮은 함수값        | 전역 최저점            | 최적의 모델 파라미터             |
| 최대점 | **전체 구간에서** 가장 큰 함수값을 갖는 점              | 극대점 중 가장 높은 함수값        | 전역 최고점            | (보통 회피 대상)                 |
| 안정점 | 움직이지 않는 평형 지점 (작은 변화에도 원래대로 돌아옴) | \( f'(x) = 0 \), \( f''(x) > 0 \) | 안정적인 접선 기울기 0 | 학습 수렴 후 정착되는 지점       |

📌 순간 변화율과 특이점의 해석

✅ 순간 변화율 해석

순간 변화율 의미
양수 x가 증가할수록 y도 증가 (오르막)
음수 x가 증가할수록 y는 감소 (내리막)
0 그래프가 수평 → 기울기 변화의 경계점

⸻

🌀 기울기 0이 되는 3가지 상황

1. 📉 극소점 (Local Minimum)
   • 그래프가 아래로 볼록
   • 왼쪽 기울기 음수 → 오른쪽 기울기 양수
   • 이 때 순간 변화율 = 0
   • 여러 개 있을 수 있음 → 그 중 가장 작은 값 = 최소점 (Global Minimum)

$$ f''(x) > 0 \text{ 인 } f'(x) = 0 \Rightarrow \text{극소점} $$

⸻

2. 📈 극대점 (Local Maximum)
   • 그래프가 위로 볼록
   • 왼쪽 기울기 양수 → 오른쪽 기울기 음수
   • 이 때 순간 변화율 = 0
   • 여러 개 있을 수 있음 → 그 중 가장 큰 값 = 최대점 (Global Maximum)

$$ f''(x) < 0 \text{ 인 } f'(x) = 0 \Rightarrow \text{극대점} $$

⸻

3. 🔁 안장점 (Saddle Point)
   • 순간 변화율은 0이지만, 극대/극소 모두 아님
   • 예시: f(x) = x^3
   • 그래프는 기울기 변화 없이 평평해졌다가 다시 올라감

$$ f'(x) = 0 \text{ and } f''(x) = 0 \Rightarrow \text{안장점 가능성} $$

⸻

📊 시각화 그래프
• y = x^4 - 4x^2 → 극소점 2개
• y = -x^4 + 4x^2 → 극대점 2개
• y = x^3 → 안장점

그래프는 곧 시각적으로 제공됩니다.

⸻

### 고차원 미분

- 3차원 그래프
- $ f(x,y) = x^2+2y^2 $일 경우 편미분을 해야한다.
- $$ \frac{델타}{델타x}f(x) = -4x^3 + 6x^2 + 4x$$

⸻

✅ 편미분이란?
• 다변수 함수 $$ f(x, y, z, \dots) $$ 에서 특정 변수 하나에 대해 미분하는 것
• 다른 변수는 고정된 상수처럼 취급

예시:

$$ f(x, y) = x^2 y + 3xy^2 $$

- 이 함수는 x와 y 모두에 대해 정의됨
- 이제 각각에 대해 편미분 해보자

⸻

🔹 x에 대한 편미분: $$ \frac{\partial f}{\partial x} $$

$$
\frac{\partial f}{\partial x} = \frac{\partial}{\partial x}(x^2 y + 3xy^2)
= 2x y + 3y^2
$$

    •	여기서 y는 상수처럼 취급한다.

⸻

🔹 y에 대한 편미분: $$ \frac{\partial f}{\partial y} $$

$$
\frac{\partial f}{\partial y} = \frac{\partial}{\partial y}(x^2 y + 3xy^2)
= x^2 + 6x y
$$

    •	여기서는 x를 상수처럼 취급한다.

⸻

✏️ 표기 방법

표기 의미

$$
\frac{\partial f}{\partial x} x에 대한 편미분
\frac{\partial f}{\partial y} $$ y에 대한 편미분
f_x, f_y 간략 표기
$$ \partial 부분미분 기호 (partial) $$

⸻

🌐 다변수 함수의 Gradient (기울기 벡터)

모든 변수에 대한 편미분을 벡터로 모은 것이 바로 Gradient (기울기)다.

$$ \nabla f(x, y) = \left[ \frac{\partial f}{\partial x}, \frac{\partial f}{\partial y} \right] $$

예시:


$$

f(x, y) = x^2 y + 3xy^2
\Rightarrow
\nabla f(x, y) = [2xy + 3y^2, x^2 + 6xy]

$$


📘 편미분과 Gradient 벡터 요약

🎯 다변수 함수 예시

$$ f(x, y) = x^2 + 2y^2 $$

- 다변수 함수: 입력 변수가 2개 (x, y)
- 각각에 대해 편미분(partial derivative) 수행

⸻

🔹 x에 대한 편미분

$$  \frac{\partial f}{\partial x} = \frac{\partial}{\partial x}(x^2 + 2y^2) = 2x $$

- y는 상수처럼 취급 → 2y^2는 미분 시 0 처리

⸻

🔹 y에 대한 편미분

$$ \frac{\partial f}{\partial y} = \frac{\partial}{\partial y}(x^2 + 2y^2) = 4y $$

- x는 상수처럼 취급 → x^2는 미분 시 0 처리

⸻

🧭 Gradient 벡터 (기울기 벡터)

$$ \nabla f(x, y) = \left[ \frac{\partial f}{\partial x}, \frac{\partial f}{\partial y} \right] = [2x, 4y] $$

- 각 방향의 변화율을 담은 벡터
- 가장 빠르게 증가하는 방향을 가리킴

⸻

🧪 예시: f(1, 1)에서의 Gradient

$$ \nabla f(1, 1) = [2(1), 4(1)] = [2, 4] $$

- x 고정 후 y만 변화시키면 기울기 4
- y 고정 후 x만 변화시키면 기울기 2

⸻

🧠 요점
| 개념             | 의미                                                   |
|------------------|--------------------------------------------------------|
| 편미분           | 한 변수만 변화시켜 기울기를 측정                      |
| Gradient 벡터    | 다변수 함수에서 각 방향의 기울기를 벡터로 표현        |
| 방향 해석        | 값이 양수면 증가 방향, 음수면 감소 방향               |
| 위치 대입        | 특정 지점에서의 Gradient는 해당 위치에서의 변화율 제공 |
⸻

## 🔍 다변수 함수와 Gradient 벡터의 의미

### 🎯 함수 정의

우리는 다음과 같은 이변수 함수를 다루고 있습니다:

$$f(x, y) = x² + 2y²$$

### ⚙️ 편미분 결과

이 함수에 대해 각 변수에 대해 편미분을 수행하면:

- x에 대해 편미분:

$$∂f/∂x = 2x$$

- y에 대해 편미분:

$$∂f/∂y = 4y$$

따라서 Gradient 벡터(기울기 벡터)는 다음과 같습니다:

$$ ∇f(x, y) = [2x, 4y] $$
---

### 🧭 Gradient 벡터의 의미

Gradient 벡터는 단순히 **해당 지점에서의 기울기**를 나타내는 것뿐만 아니라,
**가장 가파르게 상승하는 방향**을 알려주는 매우 중요한 정보를 담고 있습니다.

예를 들어, 지점 **(x=1, y=1)** 에서의 기울기 벡터는:

$$ ∇f(1, 1) = [2, 4] $$

이 벡터는 `x` 방향으로 2칸, `y` 방향으로 4칸 — 즉 **대각선 위 방향**을 가리킵니다.
👉 이 방향으로 이동하면 그래프 위에서 가장 빠르게 올라갈 수 있습니다.

---

### 🔁 반대 방향은?

기울기 벡터에 **음수를 곱하면**, 가장 가파르게 내려가는 방향이 됩니다:

$$ -∇f(1, 1) = [-2, -4] $$

즉, 이 벡터는 **가장 빠르게 낮은 곳으로 이동하는 방향**을 의미합니다.

---

### 🔺 고차원에서는?

변수가 3개 이상인 고차원 함수도 동일한 개념이 적용됩니다:

- 편미분은 각 변수에 대해 수행
- Gradient 벡터는 여전히 **가장 가파르게 증가하는 방향**
- Gradient의 음수는 **가장 가파르게 감소하는 방향**

그래서 인풋 변수가 아무리 많아도, Gradient는 항상 **함수가 가장 빠르게 변하는 방향**을 알려주는 강력한 도구입니다.

---

## 📌 요약

| 개념              | 의미                                                              |
|-------------------|-------------------------------------------------------------------|
| 편미분            | 한 변수만 변화시켜 기울기를 측정                                  |
| Gradient 벡터     | 다변수 함수에서 각 방향의 기울기를 벡터로 표현                    |
| 벡터 방향         | Gradient는 가장 가파르게 올라가는 방향, -Gradient는 내려가는 방향 |
| 고차원 확장 가능  | 변수 개수와 무관하게 Gradient 개념 그대로 적용됨                  |


$$
